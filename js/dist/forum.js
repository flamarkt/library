(()=>{var t={n:o=>{var e=o&&o.__esModule?()=>o.default:()=>o;return t.d(e,{a:e}),e},d:(o,e)=>{for(var n in e)t.o(e,n)&&!t.o(o,n)&&Object.defineProperty(o,n,{enumerable:!0,get:e[n]})},o:(t,o)=>Object.prototype.hasOwnProperty.call(t,o),r:t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}},o={};(()=>{"use strict";t.r(o),t.d(o,{common:()=>S,forum:()=>w});const e=flarum.core.compat["common/extend"],n=((flarum.extensions["flamarkt-core"]||{}).common||{})["models/Product"];var r=t.n(n);const a=((flarum.extensions["flamarkt-core"]||{}).forum||{})["components/ProductListItem"];var i=t.n(a);const s=((flarum.extensions["flamarkt-core"]||{}).forum||{})["layouts/ProductShowLayout"];var c=t.n(s);const l=((flarum.extensions["flamarkt-core"]||{}).forum||{})["components/OrderTable"];var u=t.n(l);const p=((flarum.extensions["flamarkt-core"]||{}).forum||{})["components/OrderTableGroupFoot"];var f=t.n(p);const d=((flarum.extensions["flamarkt-core"]||{}).forum||{})["components/OrderTableGroupHead"];var h=t.n(d);const b=((flarum.extensions["flamarkt-core"]||{}).forum||{})["components/OrderTableRow"];var v=t.n(b);const y=flarum.core.compat["common/Model"];var x=t.n(y);const O=flarum.core.compat["common/components/Link"];var k=t.n(O);function g(t,o){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,o){return t.__proto__=o,t},g(t,o)}function P(t,o){t.prototype=Object.create(o.prototype),t.prototype.constructor=t,g(t,o)}var j=function(t){function o(){for(var o,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(o=t.call.apply(t,[this].concat(n))||this).conversions=x().attribute("conversions"),o.title=x().attribute("title"),o.description=x().attribute("description"),o}P(o,t);var e=o.prototype;return e.conversionUrl=function(t){return this.conversions()[t]?this.conversions()[t]:this.conversions()[Object.keys(this.conversions())[0]]},e.apiEndpoint=function(){return"/flamarkt/files"+(this.exists?"/"+this.data.id:"")},o}(x());const T=flarum.core.compat["common/Component"];var _=function(t){function o(){return t.apply(this,arguments)||this}return P(o,t),o.prototype.view=function(){var t=this.attrs,o=t.file,e=t.size,n=t.className;return o?m("img.FlamarktThumbnail",{src:o.conversionUrl(e||"150x150"),alt:o.title(),className:n}):m("span.FlamarktThumbnail",{className:n},"No image")},o}(t.n(T)()),S={"models/File":j},w={"components/Image":_};app.initializers.add("flamarkt-library",(function(){app.store.models["flamarkt-files"]=j,r().prototype.thumbnail=x().hasOne("thumbnail"),(0,e.extend)(i().prototype,"items",(function(t){var o=this.attrs.product.thumbnail();t.add("thumbnail",_.component({className:"ProductListItem--thumbnail",file:o}),30)})),(0,e.extend)(c().prototype,"gallerySection",(function(t,o){var e=o.thumbnail();t.add("thumbnail",_.component({file:e,size:400}))})),(0,e.extend)(u().prototype,["head","foot"],(function(t){t.add("thumbnail",m("th"),31)})),(0,e.extend)(f().prototype,"columns",(function(t){t.add("thumbnail",m("th"),31)})),(0,e.extend)(h().prototype,"columns",(function(t){t.add("thumbnail",m("th"),31)})),(0,e.extend)(v().prototype,"columns",(function(t){var o=this.attrs.line.product();t.add("thumbnail",m("td",o?m(k(),{href:app.route.product(o)},_.component({file:o?o.thumbnail():null})):null),31)}))}))})(),module.exports=o})();
//# sourceMappingURL=forum.js.map